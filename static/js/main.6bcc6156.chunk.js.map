{"version":3,"sources":["services/point.js","services/triominoes.js","components/grid.js","components/controls.js","components/tiler.js","services/util.js","App.js","serviceWorker.js","index.js"],"names":["Point","x","y","equals","p","isToLeftOf","isToRightOf","isAbove","isBelow","this","_x","_y","_getTopLeftOfQuadrant","topLeft","n","quadrant","adj","Math","pow","_getInternalCorner","xAdj","yAdj","tileTriominoes","missingPiece","tiles","placeTile","type","location","push","solveTiling","q_missing","piece","xBoundary","yBoundary","_getQuadrantOfPiece","q","newMissing","Grid","tileGrid","index","eK","i","j","genGrid","size","grid","Array","className","onClick","bind","key","useState","setGrid","useEffect","lastIndex","setLastIndex","drawTile","length","inputGridTile","resetGrid","cellSize","setCellSize","gridRef","useRef","handleResize","gridWidth","current","clientWidth","window","addEventListener","removeEventListener","gridStyle","ref","style","map","row","Controls","props","running","setRunning","setIndex","maxIndex","speed","setSpeed","step","offset","atStart","atEnd","backwardsButton","disabled","aria-disabled","prevButton","playButton","nextButton","forwardsButton","role","aria-label","min","max","value","onChange","e","target","Tiler","setN","setTiles","setDimension","dim","setTimeout","controlsProps","is_chrome","navigator","userAgent","toLowerCase","indexOf","tilerStyle","classes","active","buttonClasses","Object","entries","filter","join","aria-pressed","App","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.6bcc6156.chunk.js","sourcesContent":["class Point {\n  constructor(x, y) {\n    this._x = x;\n    this._y = y;\n  }\n\n  get x() {\n    return this._x;\n  }\n\n  get y() {\n    return this._y;\n  }\n\n  equals = (p) => this.x === p.x && this.y === p.y;\n  isToLeftOf = (p) => this.x === p.x - 1 && this.y === p.y;\n  isToRightOf = (p) => this.x === p.x + 1 && this.y === p.y;\n  isAbove = (p) => this.x === p.x && this.y === p.y - 1;\n  isBelow = (p) => this.x === p.x && this.y === p.y + 1; \n}\n\nexport default Point;\n","import Point from \"./point\";\n\n/*\n  Coordinate system will use canvas style\n    x-axis is off to right\n    y-axis is downwards\n    quadrant I is top left and counting clockwise\n*/\n\n\nfunction tileTriominoes(topLeft, n, missingPiece) {\n  let tiles = [];\n  const placeTile = (type, location) => {\n    tiles.push([type, location.x, location.y]);\n  }\n\n  placeTile(0, missingPiece);\n  solveTiling(topLeft, n, missingPiece);\n  \n  return tiles;\n  \n  function solveTiling(topLeft, n, missingPiece) {\n    if (n === 0) {\n      return\n    }\n    else if (n === 1) {\n      if (missingPiece.equals(topLeft)) {\n        placeTile(3, missingPiece);\n      }\n      else if (missingPiece.isToRightOf(topLeft)) {\n        placeTile(4, missingPiece);\n      }\n      else if (missingPiece.isBelow(topLeft)) {\n        placeTile(2, missingPiece);\n      }\n      else {\n        placeTile(1, missingPiece);\n      }\n    }\n    else { // n > 1\n      let q_missing = _getQuadrantOfPiece(topLeft, n, missingPiece);\n      for (let q = 1; q <= 4; ++q) {\n        let newMissing = q !== q_missing ? _getInternalCorner(topLeft, n, q) : missingPiece;\n        if (q !== q_missing) {\n          placeTile(5, newMissing);\n        }\n        solveTiling(_getTopLeftOfQuadrant(topLeft, n, q), n-1, newMissing);\n      }\n  \n      let q_opposite = (q_missing + 2 - 1) % 4 + 1;\n      placeTile(q_opposite, _getInternalCorner(topLeft, n, q_missing));\n    }\n  }\n}\n\n\nfunction _getQuadrantOfPiece(topLeft, n, piece) {\n  let xBoundary = topLeft.x + Math.pow(2, n - 1) - 1;\n  let yBoundary = topLeft.y + Math.pow(2, n - 1) - 1;\n\n  if (piece.x <= xBoundary && piece.y <= yBoundary) {\n    return 1;\n  }\n  else if (piece.x <= xBoundary) {\n    return 4;\n  }\n  else if (piece.y <= yBoundary) {\n    return 2;\n  }\n  else {\n    return 3;\n  }\n}\n\nfunction _getTopLeftOfQuadrant(topLeft, n, quadrant) {\n  let adj = Math.pow(2, n - 1);\n  if (quadrant === 1) {\n    return topLeft;\n  }\n  else if (quadrant === 2) {\n    return new Point(topLeft.x + adj, topLeft.y);\n  }\n  else if (quadrant === 4) {\n    return new Point(topLeft.x, topLeft.y + adj);\n  }\n  else { // quadrant === 3\n    return new Point(topLeft.x + adj, topLeft.y + adj);\n  }\n}\n\nfunction _getInternalCorner(topLeft, n, quadrant) {\n  let xAdj = topLeft.x + Math.pow(2, n - 1) - 1;\n  let yAdj = topLeft.y + Math.pow(2, n - 1) - 1;\n  if (quadrant === 1) {\n    return new Point(xAdj, yAdj);\n  }\n  else if (quadrant === 2) {\n    return new Point(xAdj + 1, yAdj);\n  }\n  else if (quadrant === 4) {\n    return new Point(xAdj, yAdj + 1);\n  }\n  else { // quadrant === 3\n    return new Point(xAdj + 1, yAdj + 1);\n  }\n}\n\nexport default tileTriominoes;\n","import React, { useState, useEffect, useRef } from 'react';\nimport \"./grid.css\";\n\n\nconst Grid = function ({n, tiles, tileGrid, index}) {\n  const eK = function (i, j) {\n    const size = Math.pow(2, n);\n    return size * i + j;\n  }\n  const genGrid = (size) => {\n    const grid = [];\n    for (let i = 0; i < size; ++i) {\n      grid[i] = new Array(size);\n      for (let j = 0; j < size; ++j) {\n        grid[i][j] = <td className=\"cell\" onClick={tileGrid.bind(this, j, i)} key={eK(i, j)}/>;\n      }\n    }\n    return grid;\n  };\n\n  const [grid, setGrid] = useState(genGrid(2));\n  useEffect(() => {\n    setGrid(genGrid(Math.pow(2, n)));\n  }, [n]);\n\n  const inputGridTile = function (type, x, y, index) {\n    switch (type) {\n      case 0:\n        grid[y][x] = <td key={eK(y, x)} className=\"cell cell-0\" />;\n        break;\n      case 5:\n        grid[y][x] = <td key={eK(y, x)} className=\"cell cell-5\" />;\n        break;\n      case 3:\n        grid[y][x + 1] = <td key={eK(y, x+1)} className=\"cell cell-1 cell-N\"/>;\n        grid[y + 1][x] = <td key={eK(y+1, x)} className=\"cell cell-1 cell-W\" />;\n        grid[y+1][x+1] = <td key={eK(y+1, x+1)} className=\"cell cell-1 cell-SE\" />;\n        break;\n      case 4:\n        grid[y][x - 1] = <td key={eK(y, x-1)} className=\"cell cell-2 cell-N\"/>;\n        grid[y + 1][x] = <td key={eK(y+1, x)} className=\"cell cell-2 cell-E\"/>;\n        grid[y+1][x-1] = <td key={eK(y+1, x-1)} className=\"cell cell-2 cell-SW\"/>;\n        break;\n      case 1:\n        grid[y][x - 1] = <td key={eK(y, x-1)} className=\"cell cell-3 cell-S\"/>;\n        grid[y - 1][x] = <td key={eK(y-1, x)} className=\"cell cell-3 cell-E\"/>;\n        grid[y-1][x-1] = <td key={eK(y-1, x-1)} className=\"cell cell-3 cell-NW\"/>;\n        break;\n      case 2:\n        grid[y][x + 1] = <td key={eK(y, x+1)} className=\"cell cell-4 cell-S\"/>;\n        grid[y - 1][x] = <td key={eK(y-1, x)} className=\"cell cell-4 cell-W\"/>;\n        grid[y-1][x+1] = <td key={eK(y-1, x+1)} className=\"cell cell-4 cell-NE\"/>;\n        break;\n      default:\n        break;\n    }\n  }\n\n\n  const [lastIndex, setLastIndex] = useState(index);\n  useEffect(() => {\n    // console.log(\"lastIndex, index\", lastIndex, index, tiles.length);\n    const resetGrid = (grid, size) => {\n      for (let i = 0; i < size; ++i) {\n        grid[i] = new Array(size);\n        for (let j = 0; j < size; ++j) {\n          grid[i][j] = <td className=\"cell\" onClick={tileGrid.bind(this, j, i)} key={eK(i, j)}/>;\n        }\n      }\n    };\n    const drawTile = function (i) {\n      if (i < tiles.length) {\n        const [type, x, y] = tiles[i];\n        inputGridTile(type, x, y);\n      }\n    };\n\n    if (lastIndex <= index) {\n      for (let i = 1; i < index - lastIndex + 1; ++i) {\n        drawTile(lastIndex + i);\n      }\n    } else {\n      resetGrid(grid, Math.pow(2, n));\n      // setGrid(genGrid(Math.pow(2, n)));\n      for (let i = 0; i <= index; ++i) {\n        drawTile(i);\n      }\n    }\n    setLastIndex(index);\n\n  }, [index]);\n\n\n  const [cellSize, setCellSize] = useState(0);\n  const gridRef = useRef(null);\n  useEffect(() => {\n    const handleResize = () => {\n      const gridWidth = gridRef.current.clientWidth;\n      // need to subtract twice the cell border width\n      setCellSize(`min(${gridWidth / Math.pow(2, n) - 3}px, ${15 / Math.pow(2, n) + 1}rem)`)\n    };\n\n    handleResize();\n    window.addEventListener('resize', handleResize);\n\n    // auto clean-up when no longer used\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    }\n  }, [n]);\n\n  const gridStyle = {\n    \"--cell-width\": cellSize,\n    \"--cell-height\": cellSize\n  };\n\n  return (\n    <div className=\"grid\" ref={gridRef}>\n      <table className=\"grid-table\" style={gridStyle}>\n        <tbody>\n          {grid.map((row, i) => (\n            <tr key={i}>\n              {row}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default Grid;\n","import React from 'react';\nimport \"./icons.css\"\n\n\nconst Controls = function (props) {\n  const { running, setRunning, index, setIndex, maxIndex, speed, setSpeed } = props;\n\n  const play = () => {\n    setRunning(!running);\n  };\n  const pause = () => {\n    setRunning(false);\n  };\n  const step = (offset) => {\n    // pause();\n    setIndex(index => index + offset);\n  };\n  const stepPrev = () => {\n    step(-1);\n  };\n  const stepNext = () => {\n    step(1);\n  };\n  const stepStart = () => {\n    setIndex(-1);\n  };\n  const stepEnd = () => {\n    setIndex(maxIndex);\n  };\n\n  const atStart = index === -1;\n  const atEnd = index === maxIndex;\n\n  const backwardsButton = (\n    <button type=\"button\" className=\"btn btn-controls\" onClick={stepStart} disabled={atStart} aria-disabled={atStart}>\n      <i className=\"gg-play-backwards\" />\n    </button>\n  );\n  const prevButton = (\n    <button type=\"button\" className=\"btn btn-controls\" onClick={stepPrev} disabled={atStart} aria-disabled={atStart}>\n      <i className=\"gg-play-track-prev\" />\n    </button>\n  );\n  const playButton = (\n    <button type=\"button\" className=\"btn btn-controls\" onClick={play} disabled={maxIndex === -1} aria-disabled={maxIndex === -1}>\n      {running ? <i className=\"gg-play-pause\" /> : <i className=\"gg-play-button\" />}\n    </button>\n  );\n  const nextButton = (\n    <button type=\"button\" className=\"btn btn-controls\" onClick={stepNext} disabled={atEnd} aria-disabled={atEnd}>\n      <i className=\"gg-play-track-next\" />\n    </button>\n  );\n  const forwardsButton = (\n    <button type=\"button\" className=\"btn btn-controls\" onClick={stepEnd} disabled={atEnd} aria-disabled={atEnd}>\n      <i className=\"gg-play-forwards\" />\n    </button>\n  );\n\n  const handleSpeedChange = (e) => {\n    setSpeed(e.target.value);\n  };\n\n\n  return (\n    <div className=\"controls\">\n      <div className=\"btn-group\" role=\"group\" aria-label=\"tiling controls\">\n        {backwardsButton}\n        {prevButton}\n        {playButton}\n        {nextButton}\n        {forwardsButton}\n      </div>\n      <div className=\"speed-control\">\n        <small className=\"text-muted\">slow</small>\n        <input type=\"range\" className=\"slider\" min=\"1\" max=\"15\" step=\"0.5\" value={speed} onChange={handleSpeedChange}/>\n        <small className=\"text-muted\">fast</small>\n      </div>\n    </div>\n  );\n}\n\nexport default Controls;\n","import React, { useState, useEffect } from 'react';\nimport Point from \"../services/point\";\nimport tileTriominoes from \"../services/triominoes\";\nimport { classNames } from \"../services/util\";\nimport Grid from \"./grid\";\nimport Controls from \"./controls\";\nimport \"./tiler.css\";\n\n\nconst Tiler = function () {\n  const [n, setN] = useState(1);\n  const [tiles, setTiles] = useState([]);\n  const [running, setRunning] = useState(false);\n  const [speed, setSpeed] = useState(5);\n\n  const baseSpeed = 1000; // ms\n\n  const tileGrid = (x, y) => {\n    setIndex(-1);\n    setTiles(tileTriominoes(new Point(0, 0), n, new Point(x, y)));\n    setRunning(true);\n  };\n\n  const setDimension = (dim) => {\n    setRunning(false);\n    setN(dim);\n    setTiles([]);\n    setIndex(-1);\n  };\n\n  const [index, setIndex] = useState(-1);\n  useEffect(() => {\n    if (running) {\n      if (index === tiles.length - 1) {\n        setRunning(false);\n      } else {\n        setTimeout(() => {\n          setIndex((i) => {\n            return i === index ? i + 1 : i;\n          });\n        }, baseSpeed / speed);\n      }\n    }\n  }, [running, index]);\n\n  // console.log('rendering Tiler');\n\n  const maxIndex = tiles.length - 1;\n  const controlsProps = { running, setRunning, index, setIndex, maxIndex, speed, setSpeed };\n\n\n  const is_chrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;\n  const tilerStyle = {\n    \"--cell-transition-time\": baseSpeed / (1.5 * speed) + \"ms\",\n    // \"--inner-border\": is_chrome ? \"0.1px solid gray\" : \"0.5px solid gray\",\n    \"--cell-border\": is_chrome ? \"2px solid black\" : \"1.5px solid black\"\n  }\n\n  return (\n    <div className=\"tiler\" style={tilerStyle}>\n      <h4>Click on any cell to start the visualization</h4>\n\n      <div className=\"btn-group\" role=\"group\" aria-label=\"grid size selection\">\n        {[1, 2, 3, 4, 5, 6].map((i) => {\n          let size = Math.pow(2, i);\n          let active = n === i;\n          let buttonClasses = classNames({\n            \"btn\": true,\n            \"active\": active\n          });\n          return <button type=\"button\" className={buttonClasses} onClick={setDimension.bind(this, i)} aria-pressed={active} key={i}>{size} &times; {size}</button>\n        })}\n      </div>\n\n      <Grid n={n} tiles={tiles} tileGrid={tileGrid} index={index} />\n\n      <Controls {...controlsProps} />\n\n    </div>\n  );\n}\n\nexport default Tiler;\n","export const classNames = (classes) => {\n  return Object.entries(classes)\n    .filter(([key, value]) => value)\n    .map(([key, value]) => key)\n    .join(' ');\n};\n","import React from 'react';\nimport './App.css';\n\nimport Tiler from \"./components/tiler\";\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n\n      <div className=\"banner\">\n        <h1 className=\"title\">Triomino Tiling Visualizer</h1>\n      </div>\n\n      <Tiler />\n\n      <div className=\"footer banner\">\n        Created by Taesung Hwang for ICS 46. Inspiration and reference code provided by Professor Shindler.\n      </div>\n\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}